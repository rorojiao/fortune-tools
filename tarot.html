<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¡”ç½—ç‰Œå åœ - çµç®—é˜ | 78å¼ å…¨ç‰Œé˜µåœ¨çº¿å åœ</title>
    <meta name="description" content="78å¼ å¤§å°é˜¿å°”å¡çº³å…¨ç‰Œé˜µï¼Œæ¯æ—¥ä¸€å¡æˆ–ä¸‰å¡å åœï¼Œæ­£é€†ä½è¯¦ç»†è§£è¯»ï¼ŒæŒ‡å¼•è¿·é€”æ–¹å‘ã€‚">
    <meta name="keywords" content="å¡”ç½—ç‰Œ,å åœ,å¡”ç½—ç‰Œå åœ,æ¯æ—¥ä¸€å¡,ä¸‰å¡å åœ,å…è´¹å¡”ç½—">
    <link rel="canonical" href="https://rorojiao.github.io/fortune-tools/tarot.html">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXX"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-XXXXXXX');</script>
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/common.css">
    <style>
        .mode-select { display: flex; gap: 12px; margin-bottom: 24px; }
        .mode-btn {
            flex: 1; padding: 16px; text-align: center;
            background: rgba(20,10,30,0.8); border: 1px solid rgba(255,215,0,0.2);
            border-radius: 12px; cursor: pointer; transition: all 0.3s; color: #a89080;
        }
        .mode-btn.active { border-color: #ffd700; color: #ffd700; background: rgba(255,215,0,0.05); }
        .mode-btn:hover { border-color: rgba(255,215,0,0.5); }
        .mode-btn .mode-icon { font-size: 2em; display: block; margin-bottom: 8px; }
        .cards-display { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; margin: 20px 0; }
        .tarot-card {
            width: 140px; perspective: 1000px; cursor: pointer;
        }
        .tarot-card-inner {
            width: 140px; height: 220px; position: relative;
            transition: transform 0.8s; transform-style: preserve-3d;
        }
        .tarot-card.flipped .tarot-card-inner { transform: rotateY(180deg); }
        .tarot-card.reversed.flipped .tarot-card-inner { transform: rotateY(180deg) rotate(180deg); }
        .card-front, .card-back {
            position: absolute; width: 100%; height: 100%;
            backface-visibility: hidden; border-radius: 12px;
            display: flex; align-items: center; justify-content: center; flex-direction: column;
        }
        .card-back {
            background: linear-gradient(135deg, #1a0a2e, #2d1b4e);
            border: 2px solid rgba(255,215,0,0.3);
            font-size: 3em;
        }
        .card-back::after { content: 'â˜¯'; }
        .card-front {
            background: linear-gradient(135deg, #0d0520, #1a0a30);
            border: 2px solid rgba(255,215,0,0.4);
            transform: rotateY(180deg); padding: 10px;
        }
        .card-front .card-emoji { font-size: 3em; margin-bottom: 8px; }
        .card-front .card-name { color: #ffd700; font-family: 'Ma Shan Zheng', cursive; font-size: 1.1em; }
        .card-front .card-pos { color: #cc6666; font-size: 0.8em; margin-top: 4px; }
        .card-label { text-align: center; color: #887766; font-size: 0.85em; margin-top: 8px; }
        .reading-section { margin-top: 8px; }
        .reading-section h4 { color: #c8a882; font-size: 1em; margin-bottom: 6px; }
    </style>
</head>
<body>
<div class="page-container">
    <a href="index.html" class="back-link">â† è¿”å›çµç®—é˜</a>
    <div class="page-header">
        <h1>ğŸƒ å¡”ç½—ç‰Œå åœ</h1>
        <p class="desc">è†å¬å®‡å®™çš„æŒ‡å¼•ï¼Œç‚¹å‡»ç¿»ç‰Œæ­ç¤ºå¤©æœº</p>
    </div>
    <div class="mode-select">
        <div class="mode-btn active" onclick="setMode(1)" id="mode1">
            <span class="mode-icon">ğŸ´</span>æ¯æ—¥ä¸€å¡
        </div>
        <div class="mode-btn" onclick="setMode(3)" id="mode3">
            <span class="mode-icon">ğŸ´ğŸ´ğŸ´</span>ä¸‰å¡å åœ
        </div>
    </div>
    <div class="form-group">
        <label>åœ¨å¿ƒä¸­é»˜å¿µä½ çš„é—®é¢˜ï¼Œç„¶åç‚¹å‡»æŠ½ç‰Œ</label>
        <input type="text" id="question" placeholder="å¯é€‰ï¼šå†™ä¸‹ä½ æƒ³é—®çš„é—®é¢˜...">
    </div>
    <button class="btn-divine" onclick="doTarot()">ğŸ”® æŠ½å–å¡”ç½—ç‰Œ</button>
    <div class="result-area" id="result"></div>
    <div id="tipArea"><script>document.addEventListener("DOMContentLoaded",function(){document.getElementById("tipArea").innerHTML=getTipBoxHTML()});</script></div>
    <div id="footer"></div>
</div>
<script src="js/common.js"></script>
<script src="js/tarot.js"></script>
<script>
document.getElementById('footer').innerHTML = getPageFooterHTML();
let cardCount = 1;
function setMode(n) {
    cardCount = n;
    document.getElementById('mode1').className = 'mode-btn' + (n===1?' active':'');
    document.getElementById('mode3').className = 'mode-btn' + (n===3?' active':'');
}

const threeCardLabels = ['è¿‡å»','ç°åœ¨','æœªæ¥'];

function doTarot() {
    const el = document.getElementById('result');
    el.className = 'result-area show';
    el.innerHTML = '<div class="loading"><div class="spinner"></div><p>æ´—ç‰Œä¸­...</p></div>';

    setTimeout(() => {
        const cards = drawCards(cardCount);
        let html = '<div class="cards-display">';
        cards.forEach((card, i) => {
            html += `<div>
                <div class="tarot-card ${card.isReversed?'reversed':''}" onclick="this.classList.add('flipped')" id="card${i}">
                    <div class="tarot-card-inner">
                        <div class="card-back"></div>
                        <div class="card-front">
                            <div class="card-emoji">${card.img}</div>
                            <div class="card-name">${card.name}</div>
                            ${card.isReversed?'<div class="card-pos">é€†ä½ â†“</div>':'<div class="card-pos" style="color:#66cc66">æ­£ä½ â†‘</div>'}
                        </div>
                    </div>
                </div>
                ${cardCount===3?`<div class="card-label">${threeCardLabels[i]}</div>`:''}
            </div>`;
        });
        html += '</div><p style="text-align:center;color:#776655;margin:12px 0;">ğŸ‘† ç‚¹å‡»å¡ç‰Œç¿»è½¬æŸ¥çœ‹</p>';

        // Readings
        cards.forEach((card, i) => {
            const posLabel = cardCount===3 ? `ã€${threeCardLabels[i]}ã€‘` : '';
            const reading = card.isReversed ? card.reversed : card.upright;
            const posText = card.isReversed ? 'é€†ä½' : 'æ­£ä½';
            html += `<div class="result-card">
                <h3>${card.img} ${card.name} Â· ${posText} ${posLabel}</h3>
                <p>${reading}</p>
            </div>`;
        });

        // Summary for 3-card
        if (cardCount === 3) {
            html += `<div class="result-card"><h3>ğŸ“– ç»¼åˆè§£è¯»</h3><p>`;
            html += `ä»è¿‡å»çš„<span class="highlight">${cards[0].name}</span>åˆ°ç°åœ¨çš„<span class="highlight">${cards[1].name}</span>ï¼Œå†åˆ°æœªæ¥çš„<span class="highlight">${cards[2].name}</span>ï¼Œ`;
            html += `è¿™ç»„ç‰Œé˜µæ­ç¤ºäº†ä¸€æ®µå®Œæ•´çš„èƒ½é‡æµåŠ¨ã€‚`;
            if (!cards[2].isReversed && cards[2].type === 'major') {
                html += `æœªæ¥ä¹‹ç‰Œä¸ºå¤§é˜¿å°”å¡çº³æ­£ä½ï¼Œè¿™æ˜¯éå¸¸ç§¯æçš„ä¿¡å·ï¼Œé¢„ç¤ºç€é‡å¤§çš„ç§¯æå˜åŒ–å³å°†åˆ°æ¥ã€‚`;
            } else if (cards[2].isReversed) {
                html += `æœªæ¥ä¹‹ç‰Œå‘ˆç°é€†ä½ï¼Œæé†’ä½ éœ€è¦æ³¨æ„è°ƒæ•´å½“å‰çš„æ–¹å‘ï¼Œé¿å…æ½œåœ¨çš„é£é™©ã€‚`;
            } else {
                html += `æ•´ä½“èƒ½é‡æµåŠ¨è¶‹äºå¹³ç¨³ï¼Œä¿æŒå½“å‰çš„èŠ‚å¥ï¼Œé¡ºå…¶è‡ªç„¶å³å¯ã€‚`;
            }
            html += `</p></div>`;
        }

        html += getShareBarHTML('æˆ‘çš„å¡”ç½—å åœç»“æœ - çµç®—é˜');
        el.innerHTML = html;
        document.getElementById('tipArea').innerHTML = getTipBoxHTML();

        // Auto flip after delay
        setTimeout(() => {
            cards.forEach((_, i) => document.getElementById('card'+i)?.classList.add('flipped'));
        }, 2000);
    }, 1500);
}
</script>
</body>
</html>
